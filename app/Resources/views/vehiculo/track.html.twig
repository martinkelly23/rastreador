{% extends 'base.html.twig' %}

{% block body %}
  <div class="container">
    <section class="content-header">
      <h1>
        RASTREADOR
        <small>Vehículo: {{ vehiculo.id }} </small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-car"></i> Vehículos</a></li>
        <li class="active">Rastreador</li>
      </ol>
    </section>
      <div class="box">
          <div class="box-body">
              <div class="row">
                <div id="googleMap" style="width:100%;height:400px;"></div>
              </div>
          </div>
      </div>
      <div class="box">
        {% if informe != null %}
            <div class="col-xs-12">
              <div class="box box-solid">
                <div class="box-header">
                  <i class="fa fa-tachometer"></i>
                  <h3 class="box-title">Información del Vehículo</h3>
                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-default btn-sm" data-widget="collapse"><i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" data-widget="remove"><i class="fa fa-times"></i>
                    </button>
                  </div>
                </div>
                <div class="box-body">
                  <div class="row">
                    <div class="col-xs-6 col-md-3 text-center">
                      <div> Velocidad (KM/h) </div>
                      <input type="text" value="{{ informe.velocidad }}" class="velocimetro">
                    </div>
                    <div class="col-xs-6 col-md-3 text-center">
                      <div> Combutible/ Carga </div>
                      <input type="text" value='80' class="carga">
                    </div>
                    <div class="col-xs-6 col-md-3 text-center">
                      <div> Odómetro </div>
                      <input type="text" value="{{ informe.velocidad }}" class="kilometros">
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>

        <script>
          function myMap() {
          var mapProp= {
              center:new google.maps.LatLng({{ informe.latitud }},{{ informe.longitud }}),
              zoom:17,
          };
          var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
          }
        </script>
      {% endif %}
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmxuni87XXvvsEJufQ7DyRtDlGvu_B-kQ&callback=myMap"></script>

  </div>
{% endblock %}
